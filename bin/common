#!/usr/bin/env bash

error() {
    echo "error: $1" 1>&2
    exit 1
}

prompt_user() {
    prompt="$1"
    default="${2:-N}"

    if [[ "$default" =~ ^[Yy]$ ]]; then
        read -p "$prompt [Y/n] " -n 1 -r
    else
        read -p "$prompt [y/N] " -n 1 -r
    fi
    [[ -n "$REPLY" ]] && echo
    if [[ "$REPLY" =~ ^[Yy]$ ]] || { [[ -z "$REPLY" ]] && [[ "$default" =~ ^[Yy]$ ]]; }; then
        return 0
    fi
    return 1
}
